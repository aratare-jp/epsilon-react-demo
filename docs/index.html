<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>Tutorial</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #f8f8f8; }
pre.pygments .tok-c { color: #408080; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #FF0000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
pre.pygments .tok-go { color: #888888 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #7D9029 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #A0A000 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article">
<div id="header">
<h1>Tutorial</h1>
<div id="toc" class="toc">
<div id="toctitle">Nội dung</div>
<ul class="sectlevel1">
<li><a href="#_1_chuẩn_bị">1. Chuẩn bị</a>
<ul class="sectlevel2">
<li><a href="#_1_1_windows">1.1. Windows</a></li>
<li><a href="#_1_2_linuxmacos">1.2. Linux/macOS</a></li>
</ul>
</li>
<li><a href="#_2_cài_đặt_epsilon_clj">2. Cài đặt <code>epsilon-clj</code></a>
<ul class="sectlevel2">
<li><a href="#_2_1_windows">2.1. Windows</a></li>
<li><a href="#_2_2_linuxmacos">2.2. Linux/macOS</a></li>
</ul>
</li>
<li><a href="#_3_chạy_thử">3. Chạy thử</a></li>
<li><a href="#concept">4. Concept</a>
<ul class="sectlevel2">
<li><a href="#_4_1_model">4.1. Model</a></li>
<li><a href="#_4_2_template">4.2. Template</a></li>
<li><a href="#_4_3_template_controller">4.3. Template Controller</a></li>
<li><a href="#_4_4_protected_region">4.4. Protected Region</a></li>
<li><a href="#_4_5_tổng_kết">4.5. Tổng kết</a></li>
</ul>
</li>
<li><a href="#_5_thực_hành">5. Thực hành</a>
<ul class="sectlevel2">
<li><a href="#model">5.1. Model</a></li>
<li><a href="#template">5.2. Template</a></li>
<li><a href="#template-controller">5.3. Template controller</a></li>
<li><a href="#protected-region">5.4. Protected Region</a></li>
</ul>
</li>
<li><a href="#_6_tổng_kết">6. Tổng kết</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Bài viết này sẽ giới thiệu bạn đến <code>epsilon-clj</code> và cách áp dụng công cụ này vào một ứng dụng React để thêm vào một
số tính năng mới. Kết thúc bài viết này, bạn sẽ hiểu được những gì <code>epsilon-clj</code> có thể mang lại và đủ khả năng để
ứng dụng vào công việc thực tế.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_1_chuẩn_bị">1. Chuẩn bị</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Để sử dụng <code>epsilon-clj</code>, bạn sẽ cần:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java 11</p>
</li>
<li>
<p>NodeJS</p>
</li>
<li>
<p>Một text editor bất kì</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_1_1_windows">1.1. Windows</h3>
<div class="paragraph">
<p>Để cài Java 11, bạn có thể sử dụng <a href="https://chocolatey.org/install">Chocolatey</a>.</p>
</div>
<div class="paragraph">
<p>Sau khi đã cài Chocolatey, mở Powershell với quyền admin và chạy lệnh sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="powershell"><span></span><span class="tok-n">choco</span> <span class="tok-n">install</span> <span class="tok-n">ojdkbuild11</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau khi chạy xong, chạy lệnh sau để xác nhận Java đã được cài đặt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="powershell"><span></span><span class="tok-n">java</span> <span class="tok-n">-version</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Để cài NodeJS, xem <a href="https://nodejs.org/en/">tại đây</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_linuxmacos">1.2. Linux/macOS</h3>
<div class="paragraph">
<p>Để cài Java 11, bạn có thể sử dụng <a href="https://sdkman.io/install">SDKMan</a>.</p>
</div>
<div class="paragraph">
<p>Sau khi đã cài SDKMan, mở Terminal và chạy lệnh sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span>sdk install java <span class="tok-m">11</span>.0.10-open</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau khi chạy xong, chạy lệnh sau để xác nhận Java đã được cài đặt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span>java -version</code></pre>
</div>
</div>
<div class="paragraph">
<p>Để cài NodeJS, xem <a href="https://nodejs.org/en/">tại đây</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_cài_đặt_epsilon_clj">2. Cài đặt <code>epsilon-clj</code></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_2_1_windows">2.1. Windows</h3>
<div class="paragraph">
<p>Mở Powershell và chạy câu lệnh sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="powershell"><span></span><span class="tok-nb">cd </span><span class="tok-p">~</span>

<span class="tok-n">git</span> <span class="tok-n">clone</span> <span class="tok-n">https</span><span class="tok-err">:</span><span class="tok-p">//</span><span class="tok-n">github</span><span class="tok-p">.</span><span class="tok-n">com</span><span class="tok-p">/</span><span class="tok-n">aratare-jp</span><span class="tok-p">/</span><span class="tok-n">epsilon-react-demo</span><span class="tok-p">.</span><span class="tok-n">git</span>

<span class="tok-nb">cd </span><span class="tok-n">epsilon-react-demo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Tải <code>epsilon-v1.4.0-SNAPSHOT-standalone.jar</code> tại <a href="https://github.com/aratare-jp/epsilon-clj/releases">đây</a> và đặt vào
<code>~\epsilon-react-demo</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_2_2_linuxmacos">2.2. Linux/macOS</h3>
<div class="paragraph">
<p>Mở Terminal và chạy câu lệnh sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span><span class="tok-nb">cd</span> ~

git clone https://github.com/aratare-jp/epsilon-react-demo.git

<span class="tok-nb">cd</span> epsilon-react-demo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tải <code>epsilon-v1.4.0-SNAPSHOT-standalone.jar</code> tại <a href="https://github.com/aratare-jp/epsilon-clj/releases">đây</a> và đặt vào
<code>~/epsilon-react-demo</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_chạy_thử">3. Chạy thử</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Từ đây về sau, tất cả câu lệnh trong bài viết này sẽ được chạy trên Linux, nhưng trên Windows sẽ gần như
không có thay đổi.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Trước khi bắt đầu, đảm bảo rằng project của bạn trông như thế này (đừng quan tâm đến các file khác):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code><span></span>epsilon-react-demo
├── README.md
├── epsilon-v1.4.0-SNAPSHOT-standalone.jar
├── model.xml
└── templates
    └── ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mở Terminal và chạy câu lệnh sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span>java -jar epsilon-v1.4.0-SNAPSHOT-standalone.jar -d templates -m model.xml -o university -w generate
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Câu lệnh trên bao gồm:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java jar epsilon.v1.4.0-SNAPSHOT-standalone.jar</code>: chạy file Jar</p>
</li>
<li>
<p><code>-d templates</code>: nơi chứa tất cả template</p>
</li>
<li>
<p><code>-m model.xml</code>: model để sử dụng</p>
</li>
<li>
<p><code>-o university</code>: viết (generate) tất cả file vào <code>university</code></p>
</li>
<li>
<p><code>-w</code>: sử dụng hot-reload để <code>epsilon-clj</code> tự generate sau khi template thay đổi</p>
</li>
<li>
<p><code>generate</code>: câu lệnh dùng để generate</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Đừng lo nếu bạn không biết một số concept trên. <a href="#concept">Phần 4</a> sẽ giải thích rõ hơn.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sau khi chạy xong, project của bạn sẽ nhìn như thế này:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code><span></span>epsilon-react-demo
├── README.md
├── epsilon-v1.4.0-SNAPSHOT-standalone.jar
├── model.xml
├── templates
│   └── ...
└── university
    └── ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Chạy các lệnh sau để build và chạy app:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><pre><span></span><span class="tok-nb">cd</span> university

npm install

npm start
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Chúc mừng!
Bạn vừa tạo một app hoàn chỉnh trong vòng vài phút thay vì vài tuần!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="concept">4. Concept</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_4_1_model">4.1. Model</h3>
<div class="paragraph">
<p>Hãy hình dung model là một mô hình thu nhỏ của một ý tưởng hay vật thể nào đó. Ví dụ:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Xe đồ chơi là mô hình thu nhỏ của một chiếc xe ngoài thực tế.</p>
</li>
<li>
<p>Máy bay đồ chơi là mô hình thu nhỏ của một chiếc máy bay ngoài thực tế.</p>
</li>
<li>
<p>V.v.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Model được dùng để tóm tắt và mô phỏng ý tưởng hay vật thể. Ví dụ, một chiếc xe đồ chơi cũng có 4 bánh hoặc 4 cửa như
một chiếc xe thực thụ. Tại đây, chúng ta đang muốn viết một app dành cho đại học, nên model của chúng ta sẽ mô phỏng
một trường đại học ngoài thực tế.</p>
</div>
<div class="paragraph">
<p>Model trong <code>epsilon-clj</code> chỉ là một file XML đơn giản. Mở <code>model.xml</code> bằng text editor của bạn và chúng ta sẽ thấy:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/model.xml</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><pre><span></span><span class="tok-cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="tok-nt">&lt;model&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;student&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Student&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Students&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Lecturer&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Lecturers&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Course&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Courses&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;student&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Enrolled Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Enrolled Students&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Taught Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Lecturers&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Managed Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Managers&quot;</span><span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/model&gt;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ở đây, chúng ta có 3 entity (dịch nôm na là <em>thực thể</em>): <code>student</code> (sinh viên), <code>lecturer</code> (giảng viên), và <code>course</code>
(khoá học). Ngoài ra, chúng ta còn có 3 link (dịch nôm na là <em>mối liên kết</em>): một link từ <code>student</code> đến <code>course</code> và
hai link từ <code>lecturer</code> đến <code>course</code>.</p>
</div>
<div class="paragraph">
<p>Để dễ hình dung, đây là bản database schema cho model trên:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/schema.png" alt="schema">
</div>
<div class="title">Figure 1. Database schema</div>
</div>
<div class="paragraph">
<p>Tuy nhiên, model chỉ được dùng để chứa thông tin, nhưng để <em>thể hiện</em> thông tin (chọn thông tin nào để dùng, thông
tin nào để lược ra, v.v.) chúng ta cần phải có <em>template</em>.</p>
</div>
<div class="paragraph">
<p>Để hiểu rõ hơn về model, chúng ta sẽ thực hành tại <a href="#model">phần 5.1</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_4_2_template">4.2. Template</h3>
<div class="paragraph">
<p>Hình dung template giống như bản vẽ xây nhà. Với template, chúng ta có thể tạo (generate) ra nhiều vật thể giống nhau
. Lấy ví dụ trên, với bản vẽ xây nhà, chúng ta có thể xây nhiều căn nhà giống nhau.</p>
</div>
<div class="paragraph">
<p>Tuy nhiên, template chỉ bao gồm hình dáng, nhưng không có thông số. Để thêm vào thông số, chúng ta cần phải có model.
Giống như có bản vẽ xây nhà nhưng không có thông số thì chúng ta sẽ rất khó để xây được bất kì căn nhà nào!</p>
</div>
<div class="paragraph">
<p>Để tạo ra một template, chúng ta cần phải tạo một file dạng <code>.egl</code>. Bạn có thể xem sơ qua <code>Home.tsx.egl</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Home.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><pre><span></span>[%	var CaseUtils = Native(&quot;org.apache.commons.text.CaseUtils&quot;); %]
import {Layout, Menu} from &#39;antd&#39;;
import {PieChartOutlined, UserOutlined, BookOutlined} from &#39;@ant-design/icons&#39;;
import React, {useState} from &quot;react&quot;;
import {Link, Redirect, Route, Switch, useLocation, useRouteMatch} from &quot;react-router-dom&quot;;
import Main from &quot;./Main&quot;;
[%	for (entity in t_entity) {
        var pascalCase = CaseUtils.toCamelCase(entity.a_name, true, null); %]
import [%= pascalCase %] from &quot;./entities/[%= pascalCase %]&quot;;
[%	} %]
...
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tại line 1, tạo một variable mới tên <code>CaseUtils</code>.</p>
</li>
<li>
<p>Tại line 7, loop qua tất cả entity trong model.</p>
</li>
<li>
<p>Tại line 8, tạo một local variable tên <code>pascalCase</code> bằng tên của entity hiện tại.</p>
</li>
<li>
<p>Tại line 9, tạo string bằng variable <code>pascalCase</code> vừa tạo trên.</p>
</li>
<li>
<p>Tại line 10, đóng loop tại line 7.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Để hiểu rõ hơn về template, chúng ta sẽ thực hành tại <a href="#template">phần 5.2</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_4_3_template_controller">4.3. Template Controller</h3>
<div class="paragraph">
<p>Bản thân template không có khả năng generate, nên chúng ta cần phải thêm <em>template controller</em>.</p>
</div>
<div class="paragraph">
<p>Template controller, như cái tên của nó, điều khiển và hướng dẫn <code>epsilon-clj</code> generate ra các file cần thiết.
Chúng ta cũng có thể xem qua <code>Home.tsx.egx</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Home.tsx.egx</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><pre><span></span>rule Home transform m : t_model {
    template: &#39;Home.tsx.egl&#39;
    target: &#39;src/components/Home.tsx&#39;
}
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tại line 1, tạo một generate rule mới với tên <code>Home</code> cho mỗi <code>model</code> trong <code>model.xml</code>.</p>
</li>
<li>
<p>Tại line 2, sử dụng <code>Home.tsx.egl</code> làm template chính.</p>
</li>
<li>
<p>Tại line 3, generate file mới vào <code>src/components/Home.tsx</code></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Để ý rằng tuy rule trên loop qua tất cả <code>model</code> trong <code>model.xml</code>, nhưng chúng ta chỉ có duy nhất một <code>model</code>!
Đây là cách viết template dành cho các file độc lập, nghĩa rằng chúng ta chỉ muốn generate duy nhất một file mà thôi.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Mỗi template controller có thể chứa nhiều template, nhưng tốt nhất chỉ nên chứa một template. Nếu không,
<code>epsilon-clj</code> sẽ <strong><em>KHÔNG</em></strong> hot-reload khi template được chỉnh sửa. Ngoài ra, khi template được phát triển và mở rộng
hơn, bạn sẽ rất khó để quản lý template một cách hiệu quả.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Để hiểu rõ hơn về template controller, chúng ta sẽ thực hành tại <a href="#template-controller">phần 5.3</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_4_4_protected_region">4.4. Protected Region</h3>
<div class="paragraph">
<p>Nếu bạn để ý, những gì chúng ta đã làm ở đây không khác gì những framework khác. Vậy thì <code>epsilon-clj</code> có gì đặc biệt?</p>
</div>
<div class="paragraph">
<p>Để trả lời câu hỏi trên, trước hết, để ý rằng chúng ta có workflow ra sau:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/workflow.png" alt="workflow">
</div>
<div class="title">Figure 2. Workflow</div>
</div>
<div class="paragraph">
<p>Template đọc thông số từ model và generate nhiều file giống nhau dựa trên các thông số đó. Nhưng đôi lúc chúng ta cần
phải thêm hoặc bớt thông tin trong những file đó. Vậy thì chúng ta nên làm vậy ở đâu?</p>
</div>
<div class="paragraph">
<p>Câu trả lời dễ nhất là <strong><em>template</em></strong>, nhưng điều đó nghĩa rằng tất cả file khác sẽ bị ảnh hưởng chung.
Và đôi lúc chúng ta chỉ có file mà thôi.</p>
</div>
<div class="paragraph">
<p>Câu trả lời khác là trong <strong><em>file</em></strong>, nhưng tất cả thay đổi sẽ bị xoá (generate đè) khi chúng ta generate lần sau.</p>
</div>
<div class="paragraph">
<p>Vậy thì dùng template nhưng gom tất cả thông tin riêng sang một <strong><em>template riêng</em></strong> thì sao?
Cách này cũng có phần đúng, nhưng điều này nghĩa rằng tất cả file generate bởi template đó vẫn bị ảnh hưởng.
Trừ khi bạn có thể thêm hoặc bớt template tại <em>run-time</em>, nhưng rất tiếc <code>epsilon-clj</code> không thể thực hiện điều này.</p>
</div>
<div class="paragraph">
<p>Câu trả lời đúng nhất là <strong><em>protected region</em></strong> (dịch nôm na là vùng được bảo vệ). Đây là những vùng đặc biệt trong
template nơi thông tin có thể được thêm hoặc bớt tuỳ thích, vì chúng sẽ không bị xoá khi chúng ta generate lần sau.</p>
</div>
<div class="paragraph">
<p>Protected region thường được sử dụng dưới dạng comment, do comment không gây ảnh hưởng đến code. Ví dụ,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span>[%= protected(out, &quot;&lt;!--&quot;, &quot;Custom code here&quot;, false, &quot;--&gt;&quot;) %]
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>sẽ generate ra</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><pre><span></span>// protected region Custom code here off begin
// protected region Custom code here end
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Chữ <code>off</code> ám chỉ rằng protected region hiện tại "không hoạt động", nghĩa rằng tất cả code nằm giữa hai line trên sẽ
bị xoá khi generate lại từ đầu. Để kích hoạt, đơn giản đổi từ <code>off</code> sang <code>on</code>. Ví dụ, nếu chúng ta có</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><pre><span></span>// protected region Custom code here on begin
console.log(&quot;Hello world!&quot;);
// protected region Custom code here end
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>thì <code>console.log("Hello world!");</code> sẽ được giữ lại ngay cả khi chúng ta generate lại tất cả.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Để có cái nhìn rõ hơn, chúng ta sẽ thực hành tại <a href="#protected-region">phần 5.4</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_4_5_tổng_kết">4.5. Tổng kết</h3>
<div class="paragraph">
<p>Tổng kết lại những gì chúng ta đã biết:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Model</em></strong>: Được dùng để mô phỏng một ý tưởng hay vật thể nào đó</p>
</li>
<li>
<p><strong><em>Template</em></strong>: Được dùng để tạo ra nhiều vật thể giống nhau</p>
</li>
<li>
<p><strong><em>Template Controller</em></strong>: Được dùng để hướng dẫn <code>epsilon-clj</code> generate file dựa trên template</p>
</li>
<li>
<p><strong><em>Protected Region</em></strong>: Vùng đặc biệt để thêm hoặc bớt thông tin</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bây giờ chúng ta sẽ thực hành sử dụng các concept trên.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_thực_hành">5. Thực hành</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="model">5.1. Model</h3>
<div class="paragraph">
<p>Thêm line code sau vào <code>model.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><pre><span></span><span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;upper-manager&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Upper Manager&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Upper Managers&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
<span class="tok-nt">&lt;/entity&gt;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>model.xml</code> của bạn sẽ nhìn như sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/model.xml</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><pre><span></span><span class="tok-cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="tok-nt">&lt;model&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;student&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Student&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Students&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Lecturer&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Lecturers&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Course&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Courses&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;upper-manager&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Upper Manager&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Upper Managers&quot;</span><span class="tok-nt">&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
        <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;/entity&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;student&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Enrolled Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Enrolled Students&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Taught Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Lecturers&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;link</span> <span class="tok-na">source=</span><span class="tok-s">&quot;lecturer&quot;</span> <span class="tok-na">sourceCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">targetName=</span><span class="tok-s">&quot;Managed Courses&quot;</span>
          <span class="tok-na">target=</span><span class="tok-s">&quot;course&quot;</span> <span class="tok-na">targetCardinality=</span><span class="tok-s">&quot;many&quot;</span> <span class="tok-na">sourceName=</span><span class="tok-s">&quot;Managers&quot;</span><span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/model&gt;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>epsilon-clj</code> sẽ tự động nhận biết <code>model.xml</code> đã thay đổi, và sẽ generate lại tất cả template. Sau đó, React sẽ tự
động nhận biết có thay đổi trong project, và sẽ tự động reload. Trang web của bạn sẽ nhìn như sau:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/after-upper-manager.png" alt="after upper manager">
</div>
<div class="title">Figure 3. Sau khi đã add Upper Manager</div>
</div>
<div class="paragraph">
<p>Để ý sidebar bên trái đã có thêm tuỳ chọn <code>Upper Manager</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upper-manager-table.png" alt="upper manager table">
</div>
<div class="title">Figure 4. Upper Manager</div>
</div>
<div class="paragraph">
<p>Để ý table có 2 cột: <code>First Name</code> và <code>Last Name</code>, tương tự với 2 attribute nằm trong entity Upper Manager chúng ta vừa thêm vào <code>model.xml</code>.</p>
</div>
<div class="paragraph">
<p>Bạn có thể thử tạo ra một Upper Manager mới bằng cách click vào nút <code>Create</code> phía trên table:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upper-manager-form.png" alt="upper manager form">
</div>
<div class="title">Figure 5. Form add Upper Manager</div>
</div>
<div class="paragraph">
<p>Ta có thể thấy trong form có 2 textfield, <code>First Name</code> và <code>Last Name</code>, tương tự với 2 attribute của entity <code>Upper
Manager</code> trong model.</p>
</div>
<div class="paragraph">
<p>Làm sao chúng ta lại có được 2 cột và 2 textfield như thế này? Thực tế, nếu bạn check <code>Student</code>, <code>Course</code> hay
<code>Lecturer</code>, tất cả đều khớp với model!</p>
</div>
<div class="paragraph">
<p>Câu trả lời cho câu hỏi trên là vì template, như bản vẽ xây nhà, chỉ ra hình dáng và cấu trúc của file. V.d. <code>_.tsx
.egl</code> chỉ ra hình dáng và cấu trúc của table và form trên. Sau đó chúng ta sử dụng <code>model.xml</code> để thêm vào thông số,
v.d. <code>Student</code> bao gồm 2 attribute, <code>Course</code> bao gồm 1 attribute, v.v.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Câu hỏi</div>
Điều gì sẽ xảy ra nếu bạn thêm vào một attribute mới tên <code>Age</code> vào entity <code>Upper Manager</code>?
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="template">5.2. Template</h3>
<div class="paragraph">
<p>Sau khi thêm vào attribute <code>Age</code>, bạn có thể thấy sau khi reload table có 3 cột và form có 3 textfield. Tuy nhiên,
nếu để ý kỹ hơn, tất cả textfield trong form đều là "text", nhưng "Age" là một integer. Để sửa form lại cho chính
xác, chúng ta sẽ chỉnh sửa lại template nhằm phân biệt giữa các type attribute khác nhau.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upper-manager-invalid-age.png" alt="upper manager invalid age">
</div>
<div class="title">Figure 6. <code>Age</code> chứa string!!!</div>
</div>
<div class="paragraph">
<p>Trước tiên, chúng ta phải chỉnh lại model để thêm thông tin về "type" của mỗi attribute. Chúng ta không muốn phải ghi
<code>type="string"</code> cho tất cả attribute, nên <code>string</code> sẽ là type mặc định cho mọi attribute và chúng ta sẽ chỉ thay đổi
type khi cần thiết. Chỉnh lại <code>model.xml</code> như sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/model.xml</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><pre><span></span><span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;upper-manager&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Upper Manager&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Upper Managers&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;attribute</span> <span class="tok-na">type=</span><span class="tok-s">&quot;integer&quot;</span><span class="tok-nt">&gt;</span>Age<span class="tok-nt">&lt;/attribute&gt;</span>
<span class="tok-nt">&lt;/entity&gt;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau khi reload, chúng ta sẽ không thấy thay đổi trong form, do template chưa được thay đổi để sử dụng thông tin chúng
ta vừa thêm vào.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upper-manager-invalid-age.png" alt="upper manager invalid age">
</div>
<div class="title">Figure 7. <code>Age</code> vẫn chứa string sau khi sửa <code>model.xml</code></div>
</div>
<div class="paragraph">
<p>Để làm
điều này, chúng ta cần phải chỉnh lại 2 file: <code>_.tsx.egl</code> và <code>db.ts.egl</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Cách đặt tên cho template</div>
Dấu gạch chân <code>_</code> trong <code>_.tsx.egl</code> ám chỉ tên của entity trong model. Ở đây chúng ta có 4 file: <code>Student.tsx</code>,
<code>Lecturer.tsx</code>, <code>Course.tsx</code> và <code>UpperManager.tsx</code>. Ngoài ra chúng ta cũng sử dụng file path tương tự với file chúng
ta muốn generate. V.d. <code>Student.tsx</code> nằm trong <code>src/components/entities/Student.tsx</code> và template <code>_.tsx.egl</code> nằm
trong <code>src/components/entities/_.tsx.egl</code>. Điều này sẽ giúp ích bạn rất nhiều khi bạn cần phải tìm template một cách
nhanh chóng.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Đầu tiên, chúng ta sẽ chỉnh lại <code>db.ts.egl</code>. Bạn có thể tìm code block sau từ line 10 đến 13 trong template:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/db.ts.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>[%	for (attr in entity.c_attribute) {
        var attrCamelCase = CaseUtils.toCamelCase(attr.text, false, null); %]
    [%= attrCamelCase %]: string,
[%	} %]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Trong block này, chúng ta loop qua <code>c_attribute</code>, ám chỉ tất cả attribute "children" của entity hiện tại. Sau đó,
chúng ta dùng <code>CaseUtils</code> để format lại tên của attribute. Cuối cùng, chúng ta dùng tên của attribute vừa format để
generate ra string.</p>
</div>
<div class="paragraph">
<p>Ví dụ, chúng ta có entity sau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><pre><span></span><span class="tok-nt">&lt;entity</span> <span class="tok-na">id=</span><span class="tok-s">&quot;upper-manager&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;Upper Manager&quot;</span> <span class="tok-na">pluralName=</span><span class="tok-s">&quot;Upper Managers&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>First Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;attribute&gt;</span>Last Name<span class="tok-nt">&lt;/attribute&gt;</span>
    <span class="tok-nt">&lt;attribute</span> <span class="tok-na">type=</span><span class="tok-s">&quot;integer&quot;</span><span class="tok-nt">&gt;</span>Age<span class="tok-nt">&lt;/attribute&gt;</span>
<span class="tok-nt">&lt;/entity&gt;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Khi chạy loop trên với model trên chúng ta sẽ có:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><pre><span></span>    firstName: string,
    lastName: string,
    age: string,
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Để ý, type của tất cả attribute đều là <code>string</code>! Chúng ta cần phải thay đổi template để khớp với model.</p>
</div>
<div class="paragraph">
<p>Tạo một template mới tên <code>shared.egl</code> với nội dung như sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/shared.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><pre><span></span>[%
operation t_attribute getTsType(): String {
    var type = self.a_type;
    if (type.isUndefined()) {
        return &quot;string&quot;;
    }
    var typeMap = new Map();
    typeMap.put(&quot;string&quot;, &quot;string&quot;);
    typeMap.put(&quot;integer&quot;, &quot;number&quot;);
    return typeMap.get(type);
}
%]
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ở đây, chúng ta tạo ra một operation/function mới tên <code>getTsType</code>, có thể gọi trên <code>t_attribute</code>, và return một string.
Trong body của function, chúng ta check nếu attribute không có type chúng ta return <code>string</code>. Nếu có, chúng ta return
TS type dựa trên type của attribute đó.</p>
</div>
<div class="paragraph">
<p>Chúng ta cần phải import file này vào đầu template <code>db.tsx.egl</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/db.ts.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>[% import &quot;../shared.egl&quot;; %]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau đó chúng ta sẽ chỉnh sửa lại line 13 của <code>db.ts.egl</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/db.ts.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>[%= attrCamelCase %]: [%= attr.getTsType() %],</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>db.ts</code> giữ thông tin type của mọi entity trong React app. Để sử dụng, chúng ta phải update <code>_.tsx.egl</code>. Thêm code
block sau tại cuối template <code>shared.egl</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/shared.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><pre><span></span>...
[%
operation t_attribute getInputType(): String {
    var type = self.a_type;
    if (type.isUndefined()) {
        return &quot;text&quot;;
    }
    var typeMap = new Map();
    typeMap.put(&quot;string&quot;, &quot;text&quot;);
    typeMap.put(&quot;integer&quot;, &quot;number&quot;);
    return typeMap.get(type);
}
%]
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Import <code>shared.egl</code> vào đầu <code>_.tsx.egl</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/entities/_.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>[% import &quot;../../../shared.egl&quot;; %]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tại line 261, thay đổi</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/entities/_.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="jsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span>&lt;Input/&gt;
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>thành</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/entities/_.tsx.egl sau khi đã thay đổi</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>&lt;Input type=&quot;[%= attr.getInputType() %]&quot;/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau khi save lại, trình duyệt sẽ reload và bạn sẽ thấy form nhìn như sau:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upper-manager-after-age.png" alt="upper manager after age">
</div>
<div class="title">Figure 8. <code>Age</code> giờ đây chỉ chấp nhận chữ số</div>
</div>
<div class="paragraph">
<p>Textfield của <code>Age</code> giờ đây chỉ chấp nhận chữ số đúng như chúng ta muốn.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Câu hỏi</div>
Điều gì sẽ xảy ra nếu bạn thêm attribute <code>Age</code> vào entity <code>Student</code> hoặc <code>Lecturer</code>?
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Câu hỏi nâng cao</div>
Chúng ta cần phải làm gì để thêm vào type <code>boolean</code>?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Để tìm hiểu rõ hơn về syntax của EGL, xem thêm <a href="https://www.eclipse.org/epsilon/doc/egl/">tại đây</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="template-controller">5.3. Template controller</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Để dễ dàng hơn trong việc tạo template mới, bạn nên tạo file trước khi tạo template. Việc sử dụng và test file
sẽ giúp rất nhiều khi bạn muốn copy sang template, vì template không có autocompletion hoặc linting, nên sẽ rất dễ
mắc phải những lỗi vặt không đáng có. Trong phần này, chúng ta sẽ tạo file trước và sau đó copy sang template.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Giả sử chúng ta muốn có một webpage để liệt kê và giải thích các entity trong model. Trước tiên, tạo file <code>docs.tsx</code>
với nội dung sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/university/src/components/Docs.tsx</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="tsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><pre><span></span>import {Breadcrumb, Layout} from &#39;antd&#39;;

const {Header, Content, Footer} = Layout;

export default function Docs() {
	return (
		&lt;Layout className=&quot;site-layout&quot;&gt;
			&lt;Header className=&quot;site-layout-background&quot; style={{padding: 0}}/&gt;
			&lt;Content style={{margin: &#39;0 16px&#39;}}&gt;
				&lt;Breadcrumb style={{margin: &#39;16px 0&#39;}}&gt;
					&lt;Breadcrumb.Item&gt;Docs&lt;/Breadcrumb.Item&gt;
				&lt;/Breadcrumb&gt;
				&lt;div className=&quot;site-layout-background&quot; style={{padding: 24, minHeight: 360}}&gt;
					&lt;ul&gt;
						&lt;li&gt;Student&lt;/li&gt;
						&lt;li&gt;Course&lt;/li&gt;
						&lt;li&gt;Lecturer&lt;/li&gt;
						&lt;li&gt;Upper Manager&lt;/li&gt;
					&lt;/ul&gt;
				&lt;/div&gt;
			&lt;/Content&gt;
			&lt;Footer style={{textAlign: &#39;center&#39;}}&gt;Ant Design ©2018 Created by Ant UED&lt;/Footer&gt;
		&lt;/Layout&gt;
	);
}
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Thay đổi <code>Home.tsx.egl</code> để thêm vào component <code>Docs</code> mới như sau:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tại line 73:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Home.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="jsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><pre><span></span>&lt;Route path={`${url}/docs`}&gt;
    &lt;Docs/&gt;
&lt;/Route&gt;
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tại line 63:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Home.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="jsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><pre><span></span>&lt;Menu.Item key={`${url}/docs`} icon={&lt;BookOutlined/&gt;}&gt;
    &lt;Link to={`${url}/docs`}&gt;Docs&lt;/Link&gt;
&lt;/Menu.Item&gt;
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tại line 11:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Home.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="ts"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span><span class="tok-k">import</span> <span class="tok-nx">Docs</span> <span class="tok-nx">from</span> <span class="tok-s2">&quot;./Docs&quot;</span><span class="tok-p">;</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Webpage của bạn sẽ nhìn như sau:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/docs-pre-template.png" alt="docs pre template">
</div>
<div class="title">Figure 9. Webpage Docs</div>
</div>
<div class="paragraph">
<p>Để ý tại line 14 trong <code>Docs.tsx</code>, chúng ta có <code>ul</code> bao gồm tất cả các entity trong model. Tuy nhiên, vì đây là code
viết tay, khi model thay đổi chúng ta thay đổi tại đây. Việc này rất bất tiện và khả năng cao là bạn sẽ quên. Đây là
lý do tốt nhất để biến file này thành một template.</p>
</div>
<div class="paragraph">
<p>Đầu tiên, copy và paste <code>Docs.tsx</code> vào <code>epsilon-react-demo/templates/src/components</code> với tên <code>Docs.tsx.egl</code>. Sau đó,
thay đổi từ line 14 đến 19 như sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Docs.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><pre><span></span>&lt;ul&gt;
[% for (entity in t_entity) { %]
    &lt;li&gt;[%= entity.a_name %]&lt;/li&gt;
[% } %]
&lt;/ul&gt;
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Template không thể tự generate, mà cần phải có một template controller. Tạo một template controller tên <code>Home.tsx.egx</code>
với nội dung sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/Docs.tsx.egx</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><pre><span></span>rule Docs transform m : t_model {
    template: &#39;Docs.tsx.egl&#39;
    target: &#39;src/components/Docs.tsx&#39;
}
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>epsilon-clj</code> sẽ tự động nhận biết <code>Docs.tsx.egx</code> và generate <code>Docs.tsx</code>. React sau đó sẽ reload và cuối cùng bạn sẽ có</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/docs-pre-template.png" alt="docs pre template">
</div>
<div class="title">Figure 10. Webpage Docs sau khi chuyển sang template</div>
</div>
<div class="paragraph">
<p>Mặc dù nhìn không khác biệt so với khi không dùng template, nhưng khi <code>model.xml</code> được thay đổi, template
<code>Docs.tsx.egl</code> cũng sẽ thay đổi theo một cách tự động. Bạn có thể một entity mới, v.d. <code>Room</code>, để kiểm tra xem.</p>
</div>
<div class="paragraph">
<p>Để tìm hiểu rõ hơn về syntax của EGX, xem thêm <a href="https://www.eclipse.org/epsilon/doc/egx/">tại đây</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="protected-region">5.4. Protected Region</h3>
<div class="paragraph">
<p>Giả sử chúng ta muốn thêm vào label cho tất cả entity nhằm dễ nhận biết hơn. Trong phần này, chúng ta sẽ sử dụng
template <code>_.tsx.egl</code>.</p>
</div>
<div class="paragraph">
<p>Trước tiên thêm vào line 48 của template <code>_.tsx.egl</code> như sau:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/templates/src/components/entities/_.tsx.egl</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="text"><span></span>&lt;h1&gt;[%= entity.a_name %]&lt;/h1&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau khi reload, webpage sẽ nhìn như thế này:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pr-header.png" alt="pr header">
</div>
<div class="title">Figure 11. Sau khi đã add header</div>
</div>
<div class="paragraph">
<p>Để ý tất cả entity đều có header này. Nhưng nếu chúng ta muốn thay đổi màu font cho chỉ <code>Student</code> thì sao? Chúng ta
cần protected region để thay đổi màu font. Tại line 32 của <code>Student.tsx</code>, đổi từ <code>off</code> sang <code>on</code>:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/src/components/entities/Student.tsx</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="jsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span>// protected region Add custom rendering code for Student here on begin
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Đổi từ <code>off</code> sang <code>on</code> nghĩa rằng bạn muốn kích hoạt protected region này. Tại line 41, thay đổi code thành:</p>
</div>
<div class="listingblock">
<div class="title">epsilon-react-demo/src/components/entities/Student.tsx</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="jsx"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><pre><span></span>&lt;h1 style={{color: &quot;red&quot;}}&gt;Student&lt;/h1&gt;
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Webpage của bạn sẽ nhìn như thế này:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pr-student.png" alt="pr student">
</div>
<div class="title">Figure 12. Sau khi đã thêm code viết tay</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Để ý rằng nếu chúng ta kích hoạt protected region, tất cả nội dung bên trong sẽ được giữ nguyên. Nhưng
điều này đồng nghĩa với việc nếu bạn update template, file đó sẽ không được update! Vì thế, tốt nhất chúng ta nên giữ
protected region "nhỏ" và không bao quát tất cả code. Ở đây, bạn có thể tạo một placeholder trong render code của
<code>Student.tsx</code>, v.d. <code>{header}</code> và tạo <code>const header = (&lt;h1 style={{color: "red"}}&gt;Student&lt;/h1&gt;);</code> bên trong một
protected region khác.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Câu hỏi</div>
Nếu chúng ta muốn phóng to <em>tất cả</em> header ra, thì chúng ta phải viết code ở đâu?
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Câu hỏi</div>
Nếu chúng ta muốn phóng to chỉ <code>Upper Manager</code> header ra, thì chúng ta phải viết code ở đâu?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Để tìm hiểu rõ hơn về protected region, xem thêm <a href="https://www.eclipse.org/epsilon/doc/egl/#merge-engine">tại đây</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_tổng_kết">6. Tổng kết</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Chúc mừng bạn đã hoàn thành buổi thực hành này. Tuy nhiên, đây chỉ nhằm giới thiệu bạn với <code>epsilon-clj</code> mà thôi. Để
sử dụng một cách hiệu quả nhất, xem thêm thông tin <a href="https://aratare-jp.github.io/epsilon-clj/">tại đây</a>.</p>
</div>
<div class="paragraph">
<p>Tổng kết lại, bạn đã học qua cách sử dụng:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Model</p>
</li>
<li>
<p>Template</p>
</li>
<li>
<p>Template controller</p>
</li>
<li>
<p>Protected region</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-03-23 14:11:46 +0700
</div>
</div>
</body>
</html>